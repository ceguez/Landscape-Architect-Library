(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{46:function(t,e,n){},73:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n(22),r=n.n(c),i=n(12),s=n(13),l=n(16),o=n(15),u=n(17),d=n(4),h=(n(45),n(46),n(3)),b=n(14),p=n(10),j=n.n(p),m=n(18),v="CREATE_PLANT",O="RETRIEVE_PLANTS",f="UPDATE_PLANT",x="DELETE_PLANT",g="DELETE_ALL_PLANTS",P=n(36),y=n.n(P).a.create({baseURL:"http://localhost:8080/api",headers:{"Content-type":"application/json"}}),C=new(function(){function t(){Object(i.a)(this,t)}return Object(s.a)(t,[{key:"getAll",value:function(){return y.get("/plants")}},{key:"get",value:function(t){return y.get("/plants/".concat(t))}},{key:"create",value:function(t){return y.post("/plants",t)}},{key:"update",value:function(t,e){return y.put("/plants/".concat(t),e)}},{key:"delete",value:function(t){return y.delete("/plants/".concat(t))}},{key:"deleteAll",value:function(){return y.delete("/plants")}},{key:"findByTitle",value:function(t){return y.get("/plants?title=".concat(t))}}]),t}()),k=n(1),N=function(t){Object(l.a)(n,t);var e=Object(o.a)(n);function n(t){var a;return Object(i.a)(this,n),(a=e.call(this,t)).onChangeTitle=a.onChangeTitle.bind(Object(h.a)(a)),a.onChangeClimate=a.onChangeClimate.bind(Object(h.a)(a)),a.onChangeDescription=a.onChangeDescription.bind(Object(h.a)(a)),a.savePlant=a.savePlant.bind(Object(h.a)(a)),a.newPlant=a.newPlant.bind(Object(h.a)(a)),a.state={id:null,title:"",climate:"",description:"",published:!1,submitted:!1},a}return Object(s.a)(n,[{key:"onChangeTitle",value:function(t){this.setState({title:t.target.value})}},{key:"onChangeClimate",value:function(t){this.setState({climate:t.target.value})}},{key:"onChangeDescription",value:function(t){this.setState({description:t.target.value})}},{key:"savePlant",value:function(){var t=this,e=this.state,n=e.title,a=e.climate,c=e.description;this.props.createPlant(n,a,c).then((function(e){t.setState({id:e.id,title:e.title,climate:e.climate,description:e.description,published:e.published,submitted:!0}),console.log(e)})).catch((function(t){console.log(t)}))}},{key:"newPlant",value:function(){this.setState({id:null,title:"",climate:"",description:"",published:!1,submitted:!1})}},{key:"render",value:function(){return Object(k.jsx)("div",{className:"submit-form",children:this.state.submitted?Object(k.jsxs)("div",{children:[Object(k.jsx)("h4",{children:"You submitted successfully!"}),Object(k.jsx)("button",{className:"btn btn-success",onClick:this.newPlant,children:"Add"})]}):Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"title",children:"Common Name"}),Object(k.jsx)("input",{type:"text",className:"form-control",id:"title",required:!0,value:this.state.title,onChange:this.onChangeTitle,name:"title"})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"climate",children:"Climate Type"}),Object(k.jsx)("input",{type:"text",className:"form-control",id:"climate",required:!0,value:this.state.climate,onChange:this.onChangeClimate,name:"climate"})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"description",children:"Description"}),Object(k.jsx)("input",{type:"text",className:"form-control",id:"description",required:!0,value:this.state.description,onChange:this.onChangeDescription,name:"description"})]}),Object(k.jsx)("button",{onClick:this.savePlant,className:"btn btn-success",children:"Submit"})]})})}}]),n}(a.Component),T=Object(b.b)(null,{createPlant:function(t,e,n){return function(){var a=Object(m.a)(j.a.mark((function a(c){var r;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,C.create({title:t,climate:e,description:n});case 3:return r=a.sent,c({type:v,payload:r.data}),a.abrupt("return",Promise.resolve(r.data));case 8:return a.prev=8,a.t0=a.catch(0),a.abrupt("return",Promise.reject(a.t0));case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(t){return a.apply(this,arguments)}}()}})(N),S=n(11),A=function(t){Object(l.a)(n,t);var e=Object(o.a)(n);function n(t){var a;return Object(i.a)(this,n),(a=e.call(this,t)).onChangeTitle=a.onChangeTitle.bind(Object(h.a)(a)),a.onChangeClimate=a.onChangeClimate.bind(Object(h.a)(a)),a.onChangeDescription=a.onChangeDescription.bind(Object(h.a)(a)),a.getPlant=a.getPlant.bind(Object(h.a)(a)),a.updateStatus=a.updateStatus.bind(Object(h.a)(a)),a.updateContent=a.updateContent.bind(Object(h.a)(a)),a.removePlant=a.removePlant.bind(Object(h.a)(a)),a.state={currentPlant:{id:null,title:"",climate:"",description:"",published:!1},message:""},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.getPlant(this.props.match.params.id)}},{key:"onChangeTitle",value:function(t){var e=t.target.value;this.setState((function(t){return{currentPlant:Object(S.a)(Object(S.a)({},t.currentPlant),{},{title:e})}}))}},{key:"onChangeClimate",value:function(t){var e=t.target.value;this.setState((function(t){return{currentPlant:Object(S.a)(Object(S.a)({},t.currentPlant),{},{climate:e})}}))}},{key:"onChangeDescription",value:function(t){var e=t.target.value;this.setState((function(t){return{currentPlant:Object(S.a)(Object(S.a)({},t.currentPlant),{},{description:e})}}))}},{key:"getPlant",value:function(t){var e=this;C.get(t).then((function(t){e.setState({currentPlant:t.data}),console.log(t.data)})).catch((function(t){console.log(t)}))}},{key:"updateStatus",value:function(t){var e=this,n={id:this.state.currentPlant.id,title:this.state.currentPlant.title,climate:this.state.currentPlant.climate,description:this.state.currentPlant.description,published:t};this.props.updatePlant(this.state.currentPlant.id,n).then((function(n){console.log(n),e.setState((function(e){return{currentPlant:Object(S.a)(Object(S.a)({},e.currentPlant),{},{published:t})}})),e.setState({message:"The status was updated successfully!"})})).catch((function(t){console.log(t)}))}},{key:"updateContent",value:function(){var t=this;this.props.updatePlant(this.state.currentPlant.id,this.state.currentPlant).then((function(e){console.log(e),t.setState({message:"The Plant was updated successfully!"})})).catch((function(t){console.log(t)}))}},{key:"removePlant",value:function(){var t=this;this.props.deletePlant(this.state.currentPlant.id).then((function(){t.props.history.push("/plants")})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){var t=this,e=this.state.currentPlant;return Object(k.jsx)("div",{children:e?Object(k.jsxs)("div",{className:"edit-form",children:[Object(k.jsx)("h4",{children:"Plant"}),Object(k.jsxs)("form",{children:[Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"title",children:"Common Name"}),Object(k.jsx)("input",{type:"text",className:"form-control",id:"title",value:e.title,onChange:this.onChangeTitle})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"climate",children:"Climate"}),Object(k.jsx)("input",{type:"text",className:"form-control",id:"climate",value:e.climate,onChange:this.onChangeClimate})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"description",children:"Description"}),Object(k.jsx)("input",{type:"text",className:"form-control",id:"description",value:e.description,onChange:this.onChangeDescription})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{children:Object(k.jsx)("strong",{children:"Status:"})}),e.published?"Published":"Pending"]})]}),e.published?Object(k.jsx)("button",{className:"badge badge-primary mr-2",onClick:function(){return t.updateStatus(!1)},children:"UnPublish"}):Object(k.jsx)("button",{className:"badge badge-primary mr-2",onClick:function(){return t.updateStatus(!0)},children:"Publish"}),Object(k.jsx)("button",{className:"badge badge-danger mr-2",onClick:this.removePlant,children:"Delete"}),Object(k.jsx)("button",{type:"submit",className:"badge badge-success",onClick:this.updateContent,children:"Update"}),Object(k.jsx)("p",{children:this.state.message})]}):Object(k.jsxs)("div",{children:[Object(k.jsx)("br",{}),Object(k.jsx)("p",{children:"Please click on a Plant..."})]})})}}]),n}(a.Component),w=Object(b.b)(null,{updatePlant:function(t,e){return function(){var n=Object(m.a)(j.a.mark((function n(a){var c;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,C.update(t,e);case 3:return c=n.sent,a({type:f,payload:e}),n.abrupt("return",Promise.resolve(c.data));case 8:return n.prev=8,n.t0=n.catch(0),n.abrupt("return",Promise.reject(n.t0));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(t){return n.apply(this,arguments)}}()},deletePlant:function(t){return function(){var e=Object(m.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.delete(t);case 3:n({type:x,payload:{id:t}}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}})(A),D=function(t){Object(l.a)(n,t);var e=Object(o.a)(n);function n(t){var a;return Object(i.a)(this,n),(a=e.call(this,t)).onChangeSearchTitle=a.onChangeSearchTitle.bind(Object(h.a)(a)),a.refreshData=a.refreshData.bind(Object(h.a)(a)),a.setActivePlant=a.setActivePlant.bind(Object(h.a)(a)),a.findByTitle=a.findByTitle.bind(Object(h.a)(a)),a.removeAllPlants=a.removeAllPlants.bind(Object(h.a)(a)),a.state={currentPlant:null,currentIndex:-1,searchClimate:""},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.retrievePlants()}},{key:"onChangeSearchTitle",value:function(t){var e=t.target.value;this.setState({searchTitle:e})}},{key:"refreshData",value:function(){this.setState({currentPlant:null,currentIndex:-1})}},{key:"setActivePlant",value:function(t,e){this.setState({currentPlant:t,currentIndex:e})}},{key:"removeAllPlants",value:function(){var t=this;this.props.deleteAllPlants().then((function(e){console.log(e),t.refreshData()})).catch((function(t){console.log(t)}))}},{key:"findByTitle",value:function(){this.refreshData(),this.props.findPlantsByTitle(this.state.searchTitle)}},{key:"render",value:function(){var t=this,e=this.state,n=e.searchTitle,a=e.currentPlant,c=e.currentIndex,r=this.props.plants;return Object(k.jsxs)("div",{className:"list row",children:[Object(k.jsx)("div",{className:"col-md-8",children:Object(k.jsxs)("div",{className:"input-group mb-3",children:[Object(k.jsx)("input",{type:"text",className:"form-control",placeholder:"Search by Title",value:n,onChange:this.onChangeSearchTitle}),Object(k.jsx)("div",{className:"input-group-append",children:Object(k.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.findByTitle,children:"Search"})})]})}),Object(k.jsxs)("div",{className:"col-md-6",children:[Object(k.jsx)("h4",{children:"List of Plants"}),Object(k.jsx)("ul",{className:"list-group",children:r&&r.map((function(e,n){return Object(k.jsx)("li",{className:"list-group-item "+(n===c?"active":""),onClick:function(){return t.setActivePlant(e,n)},children:e.title},n)}))}),Object(k.jsx)("button",{className:"m-3 btn btn-sm btn-danger",onClick:this.removeAllPlants,children:"Remove All"})]}),Object(k.jsx)("div",{className:"col-md-6",children:a?Object(k.jsxs)("div",{children:[Object(k.jsx)("h4",{children:"Plant"}),Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{children:Object(k.jsx)("strong",{children:"Common Name:"})})," ",a.title]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{children:Object(k.jsx)("strong",{children:"Climate:"})})," ",a.climate]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{children:Object(k.jsx)("strong",{children:"Description:"})})," ",a.description]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{children:Object(k.jsx)("strong",{children:"Status:"})})," ",a.published?"Published":"Pending"]}),Object(k.jsx)(u.b,{to:"/plants/"+a.id,className:"badge badge-warning",children:"Edit"})]}):Object(k.jsxs)("div",{children:[Object(k.jsx)("br",{}),Object(k.jsx)("p",{children:"Please click on a Plant..."})]})})]})}}]),n}(a.Component),E=Object(b.b)((function(t){return{plants:t.plants}}),{retrievePlants:function(){return function(){var t=Object(m.a)(j.a.mark((function t(e){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.getAll();case 3:n=t.sent,e({type:O,payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},findPlantsByTitle:function(t){return function(){var e=Object(m.a)(j.a.mark((function e(n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.findByTitle(t);case 3:a=e.sent,n({type:O,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},deleteAllPlants:function(){return function(){var t=Object(m.a)(j.a.mark((function t(e){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.deleteAll();case 3:return n=t.sent,e({type:g,payload:n.data}),t.abrupt("return",Promise.resolve(n.data));case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",Promise.reject(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})(D),L=function(t){Object(l.a)(n,t);var e=Object(o.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(k.jsxs)(u.a,{children:[Object(k.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:[Object(k.jsx)(u.b,{to:"/plants",className:"navbar-brand",children:"Landscape Architect's Library"}),Object(k.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsx)(u.b,{to:"/plants",className:"nav-link",children:"List of Plants"})}),Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsx)(u.b,{to:"/add",className:"nav-link",children:"Add"})})]})]}),Object(k.jsx)("div",{className:"container mt-3",children:Object(k.jsxs)(d.c,{children:[Object(k.jsx)(d.a,{exact:!0,path:["/","/plants"],component:E}),Object(k.jsx)(d.a,{exact:!0,path:"/add",component:T}),Object(k.jsx)(d.a,{path:"/plants/:id",component:w})]})})]})}}]),n}(a.Component),B=n(20),F=n(38),I=n(39),R=n(40),_=[];var U=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,e=arguments.length>1?arguments[1]:void 0,n=e.type,a=e.payload;switch(n){case v:return[].concat(Object(R.a)(t),[a]);case O:return a;case f:return t.map((function(t){return t.id===a.id?Object(S.a)(Object(S.a)({},t),a):t}));case x:return t.filter((function(t){return t.id!==a.id}));case g:return[];default:return t}},q=Object(B.combineReducers)({plants:U}),M=[I.a],J=Object(B.createStore)(q,{},Object(F.composeWithDevTools)(B.applyMiddleware.apply(void 0,M)));r.a.render(Object(k.jsx)(b.a,{store:J,children:Object(k.jsx)(L,{})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.56bef2a6.chunk.js.map